<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>404? | Confusion</title>
		<link rel="stylesheet" href="/styles/theme.css">
		<link rel="shortcut icon" href="/assets/favicon.png" type="image/*">
		<link rel="apple-touch-icon" href="/assets/favicon.png" type="image/*">

	</head>

	<body>

		<template from="/components" id="theme-change-cover"></template>

		<template from="/components" id="nav"></template>

		<header class="row" style="margin-bottom: 5rem;">
			<div class="column">
				<h1 style="margin: 0px;">404</h1>
				<h4 style="margin: 0px;">I don't even know how you got here</h4>
				<a href="/">Home</a>
			</div>
			<div class="row v-center h-center" style="flex-grow: 1;">
				<img src="/assets/emoji/404.svg" style="width: 50%">
			</div>
		</header>
	</body>

	<template from="/components" id="footer"></template>

	<script src="/preferences.js"></script>
	<script src="/index.js" type="module" defer></script>

	<script type="module">

		import projectList from "https://waitimconfused.github.io/confusion-projects/projects.json" with {type: "json"};


		let path = location.pathname.replace("/", "");
		let pathParts = path.split("/");

		if (window.location.pathname.match(/^\/projects\/(\w+?)\/(.+)$/)) {
			pathParts = window.location.pathname.split(/^\/projects\/(\w+?)\/(.+)$/);
			pathParts = pathParts.filter((part) => {
				return !!part;
			});
			pathParts = pathParts.reverse();
		}

		let projectName = pathParts[0];
		let projectPath = "view";

		if (pathParts[1] == "demo") projectPath = "demo";

		let projectJSON = projectList.find((project) => {
			return project.title == projectName;
		});

		if (projectJSON) {
			let projectURL = `/projects/${projectPath}?project=${projectName}`;
			location.href = projectURL;
		}
	</script>

</html>