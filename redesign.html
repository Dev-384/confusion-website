<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Confusion</title>
		<link rel="stylesheet" href="/redesign.css">
		<link rel="shortcut icon" href="/assets/favicon.png" type="image/x-icon">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
		<style>
			.material-symbols-outlined {
			  font-variation-settings:
			  'FILL' 1,
			  'wght' 400,
			  'GRAD' 0,
			  'opsz' 24
			}
		</style>
		<script src="https://waitimconfused.github.io/confusion-projects/components/index.js" defer></script>
	</head>

	<body class="column v-center" style="gap: 3rem;">

		<template from="./redesign-components.html" id="theme-change-cover"></template>

		<nav class="row">

			<div class="row h-center banner"></div>

			<a class="row sitename v-center constant" href="/">
				<div class="img">
					<img src="/assets/favicon.png" height="30" alt="logo">
				</div>
				<p style="font-size: 1rem; font-weight: 700;">Confusion</p>
			</a>

			<div class="row links">
				<a href="about:blank" class="button link">About</a>
				<a href="about:blank" class="button link">Projects</a>
				<a href="/dashboard" class="button link">Dashboard</a>

				<div id="theme-toggle" class="button">
					<div src="/assets/dark_mode.svg" data-theme="dark"></div>
					<div src="/assets/light_mode.svg" data-theme="light"></div>
				</div>
			</div>
		</nav>

		<header class="row" style="height: 552px">
			<div class="column">
				<h1 style="margin-bottom: 0px;">
					<a style="font-family: 'JetBrains Mono', Courier, monospace;">Code</a>,
					<a class="text-gradient">Creativity</a>,
					<br>
					& <a class="hilight" onclick="document.querySelector('header div.explode').classList.toggle('boom')">Chaos</a>
				</h1>
				<p>A coding playground meets project hub</p>
			</div>
			<div class="explode" style="width: 138px; height: 138px; transform-origin: top left; scale: 4;">
				<img src="/assets/favicon.svg" alt="">
				<img src="/assets/favicon.svg" alt="">
				<img src="/assets/favicon.svg" alt="">
				<img src="/assets/favicon.svg" alt="">
				<img src="/assets/favicon.svg" alt="">
				<img src="/assets/favicon.svg" alt="">
			</div>
		</header>

		<section>
			<h2 style="text-align: center;" id="why-use">Why use <a class="hilight" href="#why-use">Confusion</a>?</h2>
			<div class="row v-center">
				<div class="card column v-center" style="width: 33%;">
					<svg width="117" height="117" viewBox="0 0 117 117" fill="none" xmlns="http://www.w3.org/2000/svg" class="section-card-img">
						<circle cx="58.5" cy="58.5" r="58.5" fill="var(--background)"></circle>
						<path fill-rule="evenodd" clip-rule="evenodd" d="M87.8217 7.86778C88.7499 8.40648 89.0469 9.59549 88.5152 10.5277L58.9095 62.429C58.4148 63.2962 57.3564 63.6658 56.4294 63.295L4.14483 42.3812C3.18375 41.9968 2.67153 40.9403 2.99938 39.9584C10.7533 16.7379 32.672 0 58.5 0C69.185 0 79.2009 2.86463 87.8217 7.86778Z" fill="var(--accent)"></path>
						<path d="M81.5 22.5L57.1395 64.8489L32 53.5" stroke="var(--text)" stroke-width="8" stroke-linecap="round" stroke-linejoin="round"></path>
					</svg>
					<h3 style="margin: 0px;">Saves time</h3>
					<p>
						Everything happens real time.
						Confusion ensures your ideas can sprawl out of your head, fast!
					</p>
				</div>
				<div class="card column v-center" style="width: 33%;">
					<svg width="112" height="114" viewBox="0 0 112 114" fill="none" xmlns="http://www.w3.org/2000/svg" class="section-card-img">
						<rect width="58" height="58" rx="5" fill="var(--bg)"></rect>
						<rect x="69" y="25" width="33" height="33" rx="5" fill="var(--accent)"></rect>
						<rect x="69" y="71" width="43" height="43" rx="5" fill="var(--primary)"></rect>
						<rect x="20" y="70" width="38" height="39" rx="5" fill="var(--text)"></rect>
					</svg>
					<h3 style="margin: 0px">No Project Limit</h3>
					<p>
						Instead of paying for more and more projects,
						Confusion gives them all for free!
					</p>
				</div>
				<div class="card column v-center" style="width: 33%;">
					<svg width="178" height="89" viewBox="0 0 178 89" fill="none" xmlns="http://www.w3.org/2000/svg" class="section-card-img">
						<rect y="26" width="154" height="63" rx="5" fill="var(--accent)"></rect>
						<path d="M142 16L142 4" stroke="var(--text)" stroke-width="8" stroke-linecap="round"></path>
						<path d="M163 34H174" stroke="var(--text)" stroke-width="8" stroke-linecap="round"></path>
						<path d="M158 19L168 9" stroke="var(--text)" stroke-width="8" stroke-linecap="round"></path>
						<path d="M62 57L73.5 68L94.5 47" stroke="var(--text)" stroke-width="8" stroke-linecap="round" stroke-linejoin="round"></path>
					</svg>
					<h3 style="margin: 0px">It's simple</h3>
					<p>
						Push a few buttons, and there you have it!
						Your very own branding colors, ready to export.
					</p>
				</div>
			</div>
		</section>

		<br>

		<section class="column v-center">
			<h2>How it Works</h2>
			<div class="card" style="width: 100%;"></div>
		</section>

		<footer class="card column v-center constant" style="position: relative; width: 100%; height: min-content; background-color: var(--primary);">
			<span style="color: var(--secondary); font-family: 'Linefont'; font-size: 120px; user-select: none; height: 100px; line-height: 0px; position: absolute; top: -43px; pointer-events: none;">01000011-01101111-01101110-01100110-01110101-01110011-01101001-01101111-01101110</span>
			
			<div class="column v-center">
				<p xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/">
					<a property="dct:title" rel="cc:attributionURL" href="https://confusion.inputoverload.com" class="hilight">confusion-projects</a>
					by
					<a rel="cc:attributionURL dct:creator" property="cc:attributionName" href="https://confusion.inputoverload.com/wait.im.confused">wait.im.confused</a>
					is licensed under
					<a href="https://creativecommons.org/licenses/by-nd/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">
						CC BY-ND 4.0
						<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1" alt="">
						<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1" alt="">
						<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/nd.svg?ref=chooser-v1" alt="">
					</a>
				</p>
			</div>

			<span style="color: var(--secondary); font-family: 'Linefont'; font-size: 120px; user-select: none; height: 100px; line-height: 0px; position: absolute; bottom: -35px; pointer-events: none;">01101110-01101111-01101001-01110011-01110101-01100110-01101110-01101111-01000011</span>
		</footer>

		<script>

			const banner = new class Banner {
				content = "";
				show(skipAnimation=false) {
					if (skipAnimation || window.scrollY > 10) {
						document.querySelector("nav .banner").style.transitionDuration = "0ms";
						document.querySelector("nav").style.transitionDuration = "0ms";
						setTimeout(() => {
							document.querySelector("nav .banner").style.transitionDuration = null;
							document.querySelector("nav").style.transitionDuration = null;
						}, 450);
					}
					document.querySelector("nav .banner").classList.add("show");
				}
				hide() {
					document.querySelector("nav .banner").classList.remove("show");
				}
				toggle() {
					document.querySelector("nav .banner").classList.toggle("show");
				}
				setContent(text="") {
					this.content = `<p>${text}</p>`;
					document.querySelector("nav .banner").innerHTML = this.content;
					if (text) {
						document.querySelector("nav .banner").classList.add("exists");
					}
				}
				setColour(text="") {
					document.querySelector("nav .banner").style.backgroundColor = `var(--${text})`;
				}
			}

			document.onscroll = (e) => {
				if (banner.content.length > 0) {
					if ( window.scrollY > 10 ) document.querySelector("nav").classList.add("scroll");
					else document.querySelector("nav").classList.remove("scroll")
				}
			}

			banner.setContent("<strong>SALE!</strong> 100% off! <spanw style='margin-left: 1rem'></span> Sale ends NEVER!");
			banner.setColour("accent");
			banner.show(true);

			document.querySelector("nav .sitename").onmouseenter = (e) => {
				document.querySelector("nav .sitename .img").classList.add("animate");
			}
			document.querySelector("nav .sitename").onmouseleave = (e) => {
				document.querySelector("nav .sitename .img").classList.remove("animate");
			}

			function getPreferredColorScheme() {
				if (window.matchMedia) {
					if(window.matchMedia('(prefers-color-scheme: dark)').matches){
						return 'dark';
					} else {
						return 'light';
					}
				}
				return 'light';
			}

			
			document.documentElement.setAttribute("data-theme", localStorage.getItem("theme") || getPreferredColorScheme());
			localStorage.setItem("theme", document.documentElement.getAttribute("data-theme"));
			document.body.querySelector(`#theme-toggle > [data-theme=${localStorage.getItem("theme")}]`).classList.add("hide");

			var animateThemeChange = true;

			function toggleTheme() {
				let theme = localStorage.getItem("theme");
				theme = (theme=="light")?"dark":"light";

				document.body.querySelector(`#theme-toggle > :not([data-theme=${theme}])`).classList.remove("hide");
				document.body.querySelector(`#theme-toggle > [data-theme=${theme}]`).classList.add("hide");

				if (animateThemeChange) {
					document.body.querySelector("#theme-toggle").onclick = () => {};

					document.body.querySelector(`div#theme-change-cover`).setAttribute("theme-to", theme);
					document.body.querySelector(`div#theme-change-cover`).classList.add("animate");

					setTimeout(() => {
						document.documentElement.setAttribute("data-theme", theme);
						localStorage.setItem("theme", theme);
					}, 500);

					setTimeout(() => {
						document.body.querySelector(`div#theme-change-cover`).classList.remove("animate");
						document.body.querySelector(`div#theme-change-cover`).removeAttribute("theme-to");
						document.body.querySelector("#theme-toggle").onclick = toggleTheme;
					}, 1000);
				} else {
					document.documentElement.setAttribute("data-theme", theme);
					localStorage.setItem("theme", theme);
				}
			}

			document.body.querySelector("#theme-toggle").onclick = toggleTheme;

			let documentLinks_scrollToID = document.querySelectorAll("a[href^='#']");
			for (let i = 0; i < documentLinks_scrollToID.length; i ++) {
				let element = documentLinks_scrollToID[i];
				let id = element.href.split("#")[1];
				let linkedElement = document.querySelector(`#${id}`);
				element.removeAttribute("href");
				element.classList.add("clickable");
				// element.setAttribute("onclick", `document.querySelector("#${id}").scrollIntoView()`);
				element.onclick = () => {
					linkedElement.scrollIntoView();
				}
			}
			console.log(documentLinks_scrollToID);
		</script>

	</body>
</html>