<!DOCTYPE html>
<html>
	<head>
		<link rel="icon" type="image/*" href="/assets/favicon.png">
		<link rel="stylesheet" href="../styles/index.css">
		<meta name="viewport" content="width = device-width, initial-scale = 1.">
		<title>Project | Confusion</title>
		<link rel="icon" type="image/*" href="/assets/favicon.png">
		<script src="/components/template.js" defer></script>
		<style>
			section h2::before { content: "## "; }
			section h3::before { content: "### "; }
			section h4::before { content: "#### "; }
			blockquote { position: relative; }
			blockquote::before {
				content: "";
				position: absolute;
				background: #72bf80;
				width: 0.25rem;
				height: 100%;
				left: -1.25rem;
    			border-radius: 0.125rem;
			}
		</style>
	</head>
	<body>
		<header>
			<div class="title">
				<img src="/assets/favicon.png">
				<h1 id="title"></h1>
			</div>
		</header>

		<content>
			<template from="/components/" id="projects"></template>
			<main id="content"></main>
		</content>
		
		<template from="/components/" id="footer"></template>
	</body>

	<script src="https://cdn.jsdelivr.net/npm/showdown@1.9.1/dist/showdown.min.js"></script>
	<script type="module">
		import viewProject from "./view.js";

		const urlParams = new URLSearchParams(window.location.search);
		const projectName = urlParams.get('project');

		if(!projectName) {
			document.body.innerHTML = "";
			let iframe = document.createElement("iframe");
			iframe.src = "/404";
			iframe.style.position = "fixed";
			iframe.style.top = 0;
			iframe.style.left = 0;
			iframe.style.width = "100vw";
			iframe.style.height = "100vh";
			iframe.style.border = "none";
			iframe.style.outline = "none";
			document.body.appendChild(iframe);
		}else{
			viewProject(projectName);
		}
	</script>
</html>