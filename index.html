<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Confusion</title>
	<link rel="icon" type="image/*" href="/assets/favicon.png">
	<link rel="stylesheet" href="/styles/redo/index.css">
	<link rel="stylesheet" href="/styles/redo/cool_grid.css">
	<link rel="stylesheet" href="/styles/redo/home.css">
	<script src="https://dev-384.github.io/confusion-projects/components/index.js" defer></script>
</head>
<body>
	<template from="/components/" id="nav"></template>
	
	<header>
		<div class="gradient"></div>
		<div class="section">
			<h1 id="title">Confusion</h1>
			<div class="separator"></div>
			<p class="typewriter">A place for even the<br>oddest of ideas</p>
			<a href="/projects/new">Create a Project</a>
		</div>
		<img src="/assets/emoji/brain.svg">
	</header>
	
	<section>
		<h2>What is this place?</h2>
		<p>
			Have you ever had an idea, but no where to put it?
			What about multiple projects, stored with no organization?

			<strong>THIS</strong> is a place for those kinds of things.
			Random projects, keeped nice and tidy!
		</p>
	</section>

	<section>
		<h2>How It Works</h2>
		<p>
			<b><i>Confusion is flexible</i></b>.
			<br>
			Each project is assigned one markdown file, and a director to put project files in.

			It's open source, you are able to make changes to all the files.
			<br><br>
			Just be sure not to change anyone elses projects :D

			<br>

			<a href="/projects/view?project=testing_page">Example Project</a>
		</p>

		<template from="/components/" id="cool_grid"></template>
	</section>

	<section class="invisible">
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
			<path style="fill: var(--primary);" fill-opacity="1" d="M0,160L30,170.7C60,181,120,203,180,213.3C240,224,300,224,360,234.7C420,245,480,267,540,261.3C600,256,660,224,720,186.7C780,149,840,107,900,96C960,85,1020,107,1080,138.7C1140,171,1200,213,1260,218.7C1320,224,1380,192,1410,176L1440,160L1440,320L1410,320C1380,320,1320,320,1260,320C1200,320,1140,320,1080,320C1020,320,960,320,900,320C840,320,780,320,720,320C660,320,600,320,540,320C480,320,420,320,360,320C300,320,240,320,180,320C120,320,60,320,30,320L0,320Z"></path>
		</svg>

		<div style="background: var(--primary); margin: -25px 0px -20px 0px;">
			<h2 style="color: black;">Recent Projects</h2>
			<div class="card-holder">

				<section class="card">
					<div class="background"></div>
					<img src="/assets/emoji/brain.svg">
					<h3>JavaScript Node Viewer</h3>
					<p>Just a bunch of floating nodes, drifting about</p>
					<a href="/projects/view?project=js_node">View Project</a>
				</section>

				<section class="card">
					<div class="background"></div>
					<img src="/assets/emoji/brain.svg">
					<h3>JavaScript Node Viewer</h3>
					<p>Just a bunch of floating nodes, drifting about</p>
					<a href="/projects/view?project=js_node">View Project</a>
				</section>

			</div>
			<br>
		</div>
	
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
			<path style="fill: var(--primary);" fill-opacity="1" d="M0,96L40,85.3C80,75,160,53,240,69.3C320,85,400,139,480,160C560,181,640,171,720,181.3C800,192,880,224,960,213.3C1040,203,1120,149,1200,112C1280,75,1360,53,1400,42.7L1440,32L1440,0L1400,0C1360,0,1280,0,1200,0C1120,0,1040,0,960,0C880,0,800,0,720,0C640,0,560,0,480,0C400,0,320,0,240,0C160,0,80,0,40,0L0,0Z"></path>
		</svg>
	</section>

	<section>
		<h2>How does it work</h2>
		<p>
			Have you ever had an idea, but no where to put it? What about multiple projects, stored with no organization?

		<strong>THIS</strong> is a place for those kinds of things. Random projects, keeped nice and tidy!
		</p>
	</section>

	<section>
		<h2>How does it work</h2>
		<p>
			Have you ever had an idea, but no where to put it? What about multiple projects, stored with no organization?

		<strong>THIS</strong> is a place for those kinds of things. Random projects, keeped nice and tidy!
		</p>
	</section>

	<template from="/components/" id="footer"></template>

	<script defer>
		const all_h2 = document.querySelectorAll("h2");
		var typewriterText = document.getElementsByClassName("typewriter");

		for(let i = 0; i < all_h2.length; i++){
			let h2 = all_h2[i];
			h2.id = h2.innerText.replace(/\W/g, '').toLowerCase();
			h2.style.cursor = "pointer";
			h2.onclick = () => {
				// window.location.href = "#"+h2.id;
				document.querySelector(`h2#${h2.id}`).scrollIntoView({
					block: "center",
					inline: "nearest"
				});
			}
		}

		for(let index = 0; index < typewriterText.length; index ++){
			let element = typewriterText[index];
			element.style.width = `${element.getBoundingClientRect().width + 40}px`;
			element.style.height = `${element.getBoundingClientRect().height + 20}px`;
			element.setAttribute("typing", "true");
			typeWriter(element, element.innerHTML.replaceAll("<br>", "\n"));
		}

		function typeWriter(element=new HTMLElement, text="", stepCounter=0){
			while(text.endsWith("&#9608")) text = text.replace(/\&\#9608$/, "");
			if(text.match(/\s$/) == false) text = text + " ";

			let ending = "&#9608";

			element.innerHTML = text.slice(0, stepCounter) + ending;
			element.innerHTML = element.innerHTML.replaceAll("\n", "<br>");
			stepCounter += 1;

			if(stepCounter <= text.length){
				function nextStep(time){
					setTimeout(() => {
						typeWriter(element, text, stepCounter);
					}, time);
				}
				if(text[stepCounter-1].match(/\W/)) nextStep(100);
				else nextStep(50);
			}else{
				setTimeout(() => {
					element.innerHTML = text;
					element.innerHTML = element.innerHTML.replaceAll("\n", "<br>");
				}, 500);
			}
		}
		function isScrolledIntoView(elem=new HTMLElement){
			var docViewTop = window.scrollY;
			var docViewBottom = docViewTop + window.innerHeight;

			var elemTop = elem.getBoundingClientRect().top;
			var elemBottom = elemTop + elem.getBoundingClientRect().height;

			return ((elemBottom <= docViewBottom) && (elemTop >= docViewTop));
		}
	</script>
</body>
</html>